(this["webpackJsonptyping-test"]=this["webpackJsonptyping-test"]||[]).push([[0],{124:function(e,t){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),o=(a(71),a(72),a(14)),l=a(5),i=function(){return c.a.createElement("div",{className:"header-container"},c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header-title"},c.a.createElement(o.b,{to:"/",style:{textDecoration:"none"}},c.a.createElement("h3",{className:"header-text"},"Typing Test"))),c.a.createElement("div",{className:"header-navs"},c.a.createElement(o.c,{to:"/",className:"header-nav-text"},"Home"),c.a.createElement(o.c,{to:"/practice",className:"header-nav-text"},"Practice"))))},u=a(6),m=a(4),p=function(e){var t=e.words,a=e.position;return c.a.createElement("div",{className:"word-box"},t.map((function(e,t){return c.a.createElement("p",{className:t===a?"active-p inline-p":"inline-p inactive-p",key:t},e," ")})))},d=function(e){var t=e.words,a=e.position,r=Object(n.useState)(""),s=Object(u.a)(r,2),o=s[0],l=s[1],i=Object(m.c)((function(e){return[e.points,e.socket]})),p=Object(u.a)(i,2),d=p[0],b=p[1],f=Object(m.b)(),O=Object(n.createRef)();Object(n.useEffect)((function(){O.current.style.border="1px solid #9cd4f4"}));return c.a.createElement("input",{type:"text",className:"input-box",value:o,onChange:function(e){if(e.target.value.endsWith(" "))if(e.target.value.trim()===t[a]){if(f({type:"increment_position"}),f({type:"increase_points"}),60===d)return f({type:"win"}),void b.emit("done");d%6===0&&0!==d&&(b.emit("progress"),f({type:"increment_user_pos"})),l("")}else O.current.style.border="1px solid red";else l(e.target.value)},ref:O})},b=function(){var e=Object(m.c)((function(e){return[e.user_pos,e.op_pos]})),t=Object(u.a)(e,2),a=t[0],n=t[1];return c.a.createElement("div",{className:"progress"},c.a.createElement("h3",{className:"title"},"YOU:"),c.a.createElement("input",{type:"range",min:"0",max:"10",value:a,className:"user-slider",readOnly:!0}),c.a.createElement("h3",{className:"title"},"OPPONENT:"),c.a.createElement("input",{type:"range",min:"0",max:"10",value:n,className:"op-slider",readOnly:!0}))},f=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return[e.matchmaking,e.socket,e.words,e.position]})),a=Object(u.a)(t,4),r=a[0],s=a[1],o=a[2],l=a[3];Object(n.useEffect)((function(){return s.connect(),s.on("matched",(function(t){e({type:"fill_words",words:t}),e({type:"set_matchmaking",value:"ready"})})),s.on("op_disconnect",(function(t){"win"===r&&"lose"===r||e({type:"disconnect"})})),s.on("op_progress",(function(t){e({type:"increment_op_pos"})})),s.on("lose",(function(){e({type:"lose"})})),function(){e({type:"remove_matchmaking"}),e({type:"reset_position"}),e({type:"clear_points"}),e({type:"clear_user_op_pos"}),s.disconnect()}}),[e,s]);return c.a.createElement("div",{className:"home"},void 0===r?c.a.createElement("div",{className:"find-button",onClick:function(){e({type:"set_matchmaking",value:"searching"}),s.emit("queue")}},"Find Match"):function(){switch(r){case"searching":return c.a.createElement("div",{className:"find-status"},"Searching...");case"ready":return c.a.createElement(c.a.Fragment,null,c.a.createElement(p,{words:o,position:l}),c.a.createElement(d,{words:o,position:l}),c.a.createElement(b,null));case"win":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"win-text"},"YOU WIN"),c.a.createElement("div",{className:"find-button",onClick:function(){window.location.reload()}},"Try Again"));case"lose":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"lose-text"},"OPPONENT WINS"),c.a.createElement("div",{className:"find-button",onClick:function(){window.location.reload()}},"Try Again"));default:return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"lose-text"},"OPPONENT DISCONNECTED"),c.a.createElement("div",{className:"find-button",onClick:function(){window.location.reload()}},"Try Again"))}}())},O=function(){var e=Object(m.c)((function(e){return e.accuracy}));return c.a.createElement("div",{className:"accuracy"},c.a.createElement("p",{className:"accuracy-text"},"Accuracy%"),c.a.createElement("h3",{className:"accuracy-value"},e))},E=a(60),j=function(){var e=Object(m.c)((function(e){return e.roundState}));return c.a.createElement("div",{className:"seconds"},c.a.createElement("p",{className:"seconds-text"},"Seconds"),c.a.createElement("h3",{className:"seconds-value"},"started"===e?c.a.createElement(E.a,{date:Date.now()+59e3,renderer:function(e){return c.a.createElement("div",null,e.seconds)}}):"ended"===e?0:60))},v=function(){var e=Object(m.c)((function(e){return e.wpm}));return c.a.createElement("div",{className:"wpm"},c.a.createElement("p",{className:"wpm-text"},"Words Per Minute"),c.a.createElement("h3",{className:"wpm-value"},e))},N=function(){return c.a.createElement("div",{className:"statsbox"},c.a.createElement(O,null),c.a.createElement(v,null),c.a.createElement(j,null))},h=a(35),y=a.n(h),_=a(61),w=a(62),g=a.n(w),x=function(){var e=Object(m.c)((function(e){return[e.words,e.position]})),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(m.b)();return Object(n.useEffect)((function(){s(function(){var e=Object(_.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/words");case 2:a=e.sent,t({type:"fill_words",words:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),c.a.createElement("div",{className:"textbox"},c.a.createElement("div",{className:"text"},a.slice(r).map((function(e,t){return c.a.createElement("span",{key:t,className:"text-element"},e," ")}))))},k=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(m.b)(),o=Object(m.c)((function(e){return[e.roundState,e.position,e.words]})),l=Object(u.a)(o,3),i=l[0],p=l[1],d=l[2],b=c.a.createRef();Object(n.useEffect)((function(){b.current.focus()}));return c.a.createElement("div",{className:"input-container"},c.a.createElement("input",{type:"text",className:"input-text",value:a,onChange:function(e){"started"===i?e.target.value.endsWith(" ")?(e.target.value.trim()===d[p]&&s({type:"calculate_wpm"}),s({type:"increment_position"}),s({type:"calculate_accuracy"}),r("")):r(e.target.value):(r(e.target.value),s({type:"start_round"}),setTimeout((function(){r(""),s({type:"end_round"})}),59e3))},disabled:"ended"===i||p===d.length||"loading"===i,ref:b}))},S=function(){var e=Object(m.c)((function(e){return[e.wpm,e.accuracy]})),t=Object(u.a)(e,2),a=t[0],n=t[1];return c.a.createElement("div",{className:"result-overlay"},c.a.createElement("div",{className:"result"},c.a.createElement("h2",{className:"result-h2"},"You Typed ..."),c.a.createElement("h3",{className:"result-h3"},c.a.createElement("span",{className:"result-h3-span"},a)," WPM"),c.a.createElement("h2",{className:"result-h2"},"At an average of"),c.a.createElement("h3",{className:"result-h3"},c.a.createElement("span",{className:"result-h3-span"},n)," %"),c.a.createElement("a",{className:"retry",href:"/"},"Retry")))},T=function(){var e=Object(m.b)();Object(n.useEffect)((function(){return function(){e({type:"reset"})}}),[e]);var t=Object(m.c)((function(e){return e.roundState}));return c.a.createElement("div",{className:"mainpage"},"ended"===t?c.a.createElement(S,null):void 0,c.a.createElement(N,null),c.a.createElement(x,null),c.a.createElement(k,null))},P=function(){return c.a.createElement("div",{className:"error"},c.a.createElement("h1",{className:"error-text"},"404 Not Found"))},C=function(){return c.a.createElement(o.a,null,c.a.createElement(i,null),c.a.createElement(l.c,null,c.a.createElement(l.a,{component:f,path:"/",exact:!0}),c.a.createElement(l.a,{component:T,path:"/practice",exact:!0}),c.a.createElement(l.a,{component:P,path:"*"})))},F=a(17),W=a(63),A=a(65),D=a(1),M=function(e,t){switch(t.type){case"start_round":return Object(D.a)(Object(D.a)({},e),{},{roundState:"started"});case"end_round":return Object(D.a)(Object(D.a)({},e),{},{roundState:"ended"});case"increment_position":return Object(D.a)(Object(D.a)({},e),{},{position:e.position+1});case"calculate_wpm":return Object(D.a)(Object(D.a)({},e),{},{wpm:e.wpm+1});case"calculate_accuracy":return Object(D.a)(Object(D.a)({},e),{},{accuracy:Math.round(e.wpm/e.position*100)});case"fill_words":return Object(D.a)(Object(D.a)({},e),{},{words:Object(A.a)(t.words),roundState:"not started"});case"add_socket":return Object(D.a)(Object(D.a)({},e),{},{socket:t.socket});case"reset":return Object(D.a)(Object(D.a)({},e),{},{roundState:"loading",words:[],position:0,wpm:0,accuracy:0});case"remove_socket":return Object(D.a)(Object(D.a)({},e),{},{socket:void 0});case"remove_matchmaking":return Object(D.a)(Object(D.a)({},e),{},{matchmaking:void 0});case"set_matchmaking":return Object(D.a)(Object(D.a)({},e),{},{matchmaking:t.value});case"reset_position":return Object(D.a)(Object(D.a)({},e),{},{position:0});case"clear_points":return Object(D.a)(Object(D.a)({},e),{},{points:0});case"increase_points":return Object(D.a)(Object(D.a)({},e),{},{points:e.points+1});case"increment_user_pos":return Object(D.a)(Object(D.a)({},e),{},{user_pos:e.user_pos+1});case"increment_op_pos":return Object(D.a)(Object(D.a)({},e),{},{op_pos:e.op_pos+1});case"clear_user_op_pos":return Object(D.a)(Object(D.a)({},e),{},{op_pos:0,user_pos:0});case"win":return Object(D.a)(Object(D.a)({},e),{},{matchmaking:"win"});case"lose":return Object(D.a)(Object(D.a)({},e),{},{matchmaking:"lose"});case"disconnect":return Object(D.a)(Object(D.a)({},e),{},{matchmaking:"disconnect"});case"set_round_state":return Object(D.a)(Object(D.a)({},e),{},{roundState:t.value});default:return e}},I=a(64),R=a.n(I)()(),Y=Object(F.c)(M,{roundState:"loading",words:[],position:0,wpm:0,accuracy:0,socket:R,matchmaking:void 0,points:0,user_pos:0,op_pos:0},Object(F.a)(W.a)),q=document.querySelector("#root");s.a.render(c.a.createElement(m.a,{store:Y},c.a.createElement(C,null)),q)},66:function(e,t,a){e.exports=a(127)},72:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.ce7ff660.chunk.js.map